angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.carousel"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==s.style[t])return e[t]}var i=function(r,s,o){o=o||{};var u=e.defer(),f=i[o.animation?"animationEndEventName":"transitionEndEventName"],l=function(){n.$apply(function(){r.unbind(f,l),u.resolve(r)})};return f&&r.bind(f,l),t(function(){angular.isString(s)?r.addClass(s):angular.isFunction(s)?s(r):angular.isObject(s)&&r.css(s),f||u.resolve(r)}),u.promise.cancel=function(){f&&r.unbind(f,l),u.reject("Transition cancelled")},u.promise},s=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(u),i}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function r(){function n(){s?(e.next(),r()):e.pause()}i&&t.cancel(i);var o=+e.interval;!isNaN(o)&&o>=0&&(i=t(n,o))}var i,s,o=this,u=o.slides=[],a=-1;o.currentSlide=null,o.select=function(i,s){function f(){o.currentSlide&&angular.isString(s)&&!e.noTransition&&i.$element?(i.$element.addClass(s),i.$element[0].offsetWidth=i.$element[0].offsetWidth,angular.forEach(u,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:s,active:!0,entering:!0}),angular.extend(o.currentSlide||{},{direction:s,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(i,o.currentSlide)):l(i,o.currentSlide),o.currentSlide=i,a=p,r()}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=u.indexOf(i);void 0===s&&(s=p>a?"next":"prev"),i&&i!==o.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(f)):f())},o.indexOfSlide=function(e){return u.indexOf(e)},e.next=function(){var t=(a+1)%u.length;return e.$currentTransition?void 0:o.select(u[t],"next")},e.prev=function(){var t=0>a-1?u.length-1:a-1;return e.$currentTransition?void 0:o.select(u[t],"prev")},e.select=function(e){o.select(e)},e.isActive=function(e){return o.currentSlide===e},e.slides=function(){return u},e.$watch("interval",r),e.play=function(){s||(s=!0,r())},e.pause=function(){e.noPause||(s=!1,i&&t.cancel(i))},o.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(o.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},o.removeSlide=function(e){var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?t>=u.length?o.select(u[t-1]):o.select(u[t]):a>t&&a--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,r,i){if(r.active){var s=e(r.active),o=s.assign,u=t.active=s(t.$parent);t.$watch(function(){var e=s(t.$parent);return e!==t.active&&(e!==u?u=t.active=e:o(t.$parent,e=u=t.active)),e})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]);